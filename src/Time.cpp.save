#include "Time.h"

Time::Time()
{

}

Time::~Time()
{
    //dtor
}

void Time::startFrame()
{
    this->currentTime = glfwGetTime();
    this->dt = this->currentTime - lastFrame;
    this->lastTime = this->currentTime;
}

void Time::endFrame()
{
    //this->lastTime = glfwGetTime();
    this->upt = true;
}

double Time::getDeltaTime() {
    /*
    if(this->upt) {
        if(this->dt2 != 0)
           this->dt1 = this->dt2;
        if(this->dt != 1)
           this->dt2 = this->dt;

        this->dt = (this->currentTime - this->lastTime) * 1000;
        this->upt = false;
        //if(this->dt1!=0 && this->dt2 != 0)
        //   this->dt = (this->dt + this->dt1 + this->dt2) / 3;
    
    }

    return this->dt * 60;
    */
    
}

bool Time::isLaunchWithDT() {
    if(this->accum > 0.15f)
        this->accum = 0.15f;

    if(this->accum > fps) {
        this->accum -= fps;
        return true;
    }else{
        this->accum = this->currentTime - this->lastTime;
        return false;
    }
}
